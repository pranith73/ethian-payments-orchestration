# 2.3 Value Objects (Beginner-Friendly)

Value Objects represent small domain concepts that have **no independent identity**.
They are defined by their **values**, not by an ID.

In Ethian, value objects help us:
- avoid primitive obsession (e.g., using `String` for everything),
- keep money + currency handling correct,
- make validation rules explicit and reusable.

---

## 2.3.1 Domain Identifier (ID) Value Objects

Ethian uses strongly-typed IDs instead of plain strings where possible.

Examples:
- `MerchantId`
- `CustomerId`
- `InvoiceId`
- `PaymentId`
- `RefundId`
- `SettlementId`
- `LedgerAccountId`
- `LedgerEntryId`
- `LedgerTxnId`

Rules:
- IDs are immutable once created.
- IDs are safe to serialize (see 2.10).
- IDs must be treated as opaque (do not embed meaning inside IDs).

---

## 2.3.2 Money

Money is central to Ethian and must be handled safely.

A `Money` value object should represent:
- `amount` (minor units recommended: cents/paise-like, but Ethian focuses on correctness)
- `currency` (ISO currency code)

Rules:
- Money is immutable.
- Money arithmetic must require same currency.
- Avoid floating-point for money representation.
- Validation: amount cannot be negative unless the context explicitly allows it (e.g., refunds may be represented as positive Money with separate direction).

---

## 2.3.3 Currency

Currency should be modeled explicitly, not as a random string.

Rules:
- Use ISO currency codes (e.g., `USD`, `EUR`).
- Currency is required wherever Money is used.
- Currency mismatches must be rejected at domain boundary.

---

## 2.3.4 Address

Addresses are used for billing and merchant profiles.

Typical fields:
- line1, line2
- city, state, postalCode
- country

Rules:
- Address is a value object (no identity on its own).
- Validation is context-specific (e.g., country required, postal format rules may vary).

---

## 2.3.5 Email and Phone

These should be modeled as dedicated value objects where possible.

Rules:
- Normalize + validate at creation time.
- Store canonical format to avoid duplicates.
- Do not leak formatting concerns into core entities.

---

## 2.3.6 Percentage / FeeRate

Fees often need percentage-like representation.

Rules:
- Never represent fee rates as floats.
- Prefer integer basis points (BPS) or a rational representation.
- Validate boundaries (e.g., 0% to 100% where applicable).

---

## 2.3.7 Timestamp / Instant

Time matters in payments: settlement dates, invoice due dates, posting time, etc.

Rules:
- Use UTC internally.
- Serialize with explicit timezone/offset rules (see 2.10).
- Avoid relying on local machine timezone for domain behavior.

---

## Summary

Value Objects are the “safe primitives” of Ethian.
They reduce bugs by pushing validation and correctness rules into reusable building blocks.

Next: see **2.4 Aggregates & Invariants** to understand which entities own which rules.